(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[564],{3564:(F,B,d)=>{"use strict";d.r(B),d.d(B,{MaterialComponentsModule:()=>je});var A=d(1896),f=d(9862),x=d(6814),b=d(4643),c=d(6223),w=d(1447),p=d(9347),i=d(9538),m=d(9688),t=d(9212),g=d(553);let C=(()=>{class e{constructor(a){this.httpClient=a,this.url=g.N.apiUrl}add(a){return this.httpClient.post(this.url+"/category/add",a,{headers:(new f.WM).set("Content-Type","application/json")})}update(a){return this.httpClient.patch(this.url+"/category/update/",a,{headers:(new f.WM).set("Content-Type","application/json")})}getCategories(){return this.httpClient.get(this.url+"/category/get/")}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(f.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u=d(3712),h=d(2296),_=d(9157),Z=d(2032),T=d(1274),y=d(3814);function q(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function M(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,q,2,0,"span",9),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.categoryForm.controls.name.errors.required)}}let P=(()=>{class e{constructor(a,o,n,s,l){this.dialogData=a,this.formBuilder=o,this.categoryService=n,this.dialogRef=s,this.snackBarService=l,this.onAddCategory=new t.vpe,this.onEditCategory=new t.vpe,this.categoryForm=c.cw,this.dialogAction="Add",this.action="Add"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[c.kI.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){this.categoryService.add({name:this.categoryForm.value.name}).subscribe(n=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=n.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},n=>{this.dialogRef.close(),this.responseMessage=n.error?.message?n.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}edit(){this.categoryService.update({id:this.dialogData.data.id,name:this.categoryForm.value.name}).subscribe(n=>{this.dialogRef.close(),this.onEditCategory.emit(),this.responseMessage=n.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},n=>{this.dialogRef.close(),this.responseMessage=n.error?.message?n.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(p.WI),t.Y36(c.qu),t.Y36(C),t.Y36(p.so),t.Y36(u.o))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-category"]],decls:18,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","flFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3),t.qZA()()(),t.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,M,2,1,"mat-error",9),t.qZA()()()()(),t.TgZ(13,"mat-dialog-actions",10)(14,"button",11),t.NdJ("click",function(){return n.handleSubmit()}),t._uU(15),t.qZA(),t.TgZ(16,"button",12),t._uU(17,"Close"),t.qZA()()),2&o&&(t.xp6(3),t.hij("",n.dialogData.action," Category"),t.xp6(2),t.Q6J("formGroup",n.categoryForm),t.xp6(7),t.Q6J("ngIf",n.categoryForm.controls.name.touched&&n.categoryForm.controls.name.invalid),t.xp6(2),t.Q6J("disabled",!(n.categoryForm.valid&&n.categoryForm.dirty)),t.xp6(),t.Oqu(n.action))},dependencies:[x.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,h.lW,p.ZT,p.H8,p.xY,_.KE,_.hX,_.TO,Z.Nt,T.Ye,T.rD,y.xw,y.yH],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]})}return e})();var O=d(9917),S=d(5195),U=d(617),k=d(2596);function V(e,r){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Name"),t.qZA())}function $(e,r){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function j(e,r){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Action"),t.qZA())}function L(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",15)(1,"button",16),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.handleEditAction(s))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function G(e,r){1&e&&t._UZ(0,"tr",17)}function K(e,r){1&e&&t._UZ(0,"tr",18)}let X=(()=>{class e{constructor(a,o,n,s,l){this.categoryService=a,this.ngxService=o,this.dialog=n,this.snackBarService=s,this.router=l,this.displayedColumns=["name","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.categoryService.getCategories().subscribe(a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}handleAddAction(){const a=new p.vA;a.data={action:"Add"},a.width="850px";const o=this.dialog.open(P,a);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddCategory.subscribe(s=>{this.tableData()})}handleEditAction(a){const o=new p.vA;o.data={action:"Edit",data:a},o.width="850px";const n=this.dialog.open(P,o);this.router.events.subscribe(()=>{n.close()}),n.componentInstance.onEditCategory.subscribe(l=>{this.tableData()})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(C),t.Y36(O.LA),t.Y36(p.uw),t.Y36(u.o),t.Y36(A.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-category"]],decls:24,vars:4,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Category"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return n.handleAddAction()}),t._uU(5,"Add Category"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"mat-form-field",1)(9,"mat-label"),t._uU(10,"Filter"),t.qZA(),t.TgZ(11,"input",2,3),t.NdJ("keyup",function(l){return n.applyFilter(l)}),t.qZA()()(),t._UZ(13,"hr"),t.TgZ(14,"div",4)(15,"table",5),t.ynx(16,6),t.YNc(17,V,2,0,"th",7)(18,$,2,1,"td",8),t.BQk(),t.ynx(19,9),t.YNc(20,j,2,0,"th",7)(21,L,4,0,"td",10),t.BQk(),t.YNc(22,G,1,0,"tr",11)(23,K,1,0,"tr",12),t.qZA()()),2&o&&(t.xp6(15),t.Q6J("dataSource",n.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[h.lW,h.RK,S.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,_.KE,_.hX,U.Hw,Z.Nt,k.gM],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return e})();var D=d(8254);let N=(()=>{class e{constructor(a){this.httpClient=a,this.url=g.N.apiUrl}add(a){return this.httpClient.post(this.url+"/product/add/",a,{headers:(new f.WM).set("Content-Type","application/json")})}update(a){return this.httpClient.patch(this.url+"/product/update/",a,{headers:(new f.WM).set("Content-Type","application/json")})}getProducts(){return this.httpClient.get(this.url+"/product/get/")}updateStatus(a){return this.httpClient.patch(this.url+"/product/updateStatus/",a,{headers:(new f.WM).set("Content-Type","application/json")})}delete(a){return this.httpClient.delete(this.url+"/product/delete/"+a,{headers:(new f.WM).set("Content-Type","application/json")})}getProductsByCategory(a){return this.httpClient.get(this.url+"/product/getByCategory/"+a)}getById(a){return this.httpClient.get(this.url+"/product/getById/"+a)}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(f.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Y=d(3680),Q=d(8525);function z(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function W(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function tt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,z,2,0,"span",8)(2,W,2,0,"span",8),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.productForm.controls.name.errors.required),t.xp6(),t.Q6J("ngIf",a.productForm.controls.name.errors.pattern)}}function et(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function at(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function nt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,et,2,0,"span",8)(2,at,2,0,"span",8),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.productForm.controls.price.errors.required),t.xp6(),t.Q6J("ngIf",a.productForm.controls.price.errors.pattern)}}function ot(e,r){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(),t.Oqu(a.name)}}function rt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function it(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function st(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,rt,2,0,"span",8)(2,it,2,0,"span",8),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.productForm.controls.description.errors.required),t.xp6(),t.Q6J("ngIf",a.productForm.controls.description.errors.pattern)}}let I=(()=>{class e{constructor(a,o,n,s,l,v){this.dialogData=a,this.formBuilder=o,this.productService=n,this.dialogRef=s,this.categoryService=l,this.snackBarService=v,this.onAddProduct=new t.vpe,this.onEditProduct=new t.vpe,this.productForm=c.cw,this.dialogAction="Add",this.action="Add",this.categories=[]}ngOnInit(){this.productForm=this.formBuilder.group({name:[null,[c.kI.required,c.kI.pattern(m.t.nameRegex)]],categoryId:[null,c.kI.required],price:[null,c.kI.required],description:[null,c.kI.required]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.productForm.patchValue(this.dialogData.data)),this.getCategories()}getCategories(){this.categoryService.getCategories().subscribe(a=>{this.categories=a},a=>{this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){var a=this.productForm.value;this.productService.add({name:a.name,categoryId:a.categoryId,price:a.price,description:a.description}).subscribe(n=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=n.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},n=>{this.dialogRef.close(),this.responseMessage=n.error?.message?n.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}edit(){var a=this.productForm.value;this.productService.update({id:this.dialogData.data.id,name:a.name,categoryId:a.categoryId,price:a.price,description:a.description}).subscribe(n=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=n.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},n=>{this.dialogRef.close(),this.responseMessage=n.error?.message?n.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(p.WI),t.Y36(c.qu),t.Y36(N),t.Y36(p.so),t.Y36(C),t.Y36(u.o))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:34,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["appearance","fill","flFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","price","required",""],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","required",""],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3),t.qZA()()(),t.TgZ(4,"mat-dialog-content",3)(5,"form",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,tt,3,2,"mat-error",8),t.qZA()(),t.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t._uU(15,"Price"),t.qZA(),t._UZ(16,"input",9),t.YNc(17,nt,3,2,"mat-error",8),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Category"),t.qZA(),t.TgZ(21,"mat-select",10),t.YNc(22,ot,2,2,"mat-option",11),t.qZA()()(),t.TgZ(23,"div",5)(24,"mat-form-field",6)(25,"mat-label"),t._uU(26,"Description"),t.qZA(),t._UZ(27,"input",12),t.YNc(28,st,3,2,"mat-error",8),t.qZA()()()(),t.TgZ(29,"mat-dialog-actions",13)(30,"button",14),t.NdJ("click",function(){return n.handleSubmit()}),t._uU(31),t.qZA(),t.TgZ(32,"button",15),t._uU(33,"Close"),t.qZA()()),2&o&&(t.xp6(3),t.hij("",n.dialogData.action," Product"),t.xp6(2),t.Q6J("formGroup",n.productForm),t.xp6(6),t.Q6J("ngIf",n.productForm.controls.name.touched&&n.productForm.controls.name.invalid),t.xp6(6),t.Q6J("ngIf",n.productForm.controls.price.touched&&n.productForm.controls.price.invalid),t.xp6(5),t.Q6J("ngForOf",n.categories),t.xp6(6),t.Q6J("ngIf",n.productForm.controls.description.touched&&n.productForm.controls.description.invalid),t.xp6(2),t.Q6J("disabled",!(n.productForm.valid&&n.productForm.dirty)),t.xp6(),t.Oqu(n.action))},dependencies:[x.sg,x.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,Y.ey,h.lW,p.ZT,p.H8,p.xY,_.KE,_.hX,_.TO,Z.Nt,Q.gD,T.Ye,T.rD,y.xw,y.yH],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]})}return e})();var J=d(9463),R=d(2599);function ct(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function lt(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function mt(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Category"),t.qZA())}function dt(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.categoryName)}}function pt(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Description"),t.qZA())}function ut(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.description)}}function gt(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Price"),t.qZA())}function ht(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.price)}}function _t(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function ft(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.handleEditAction(s))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",20),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.handleDeleteAction(s))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"mat-slide-toggle",21),t.NdJ("change",function(n){const l=t.CHM(a).$implicit,v=t.oxw();return t.KtG(v.onChange(n.checked,l.id))}),t.qZA()()}if(2&e){const a=r.$implicit;t.xp6(7),t.Q6J("checked",a.status)}}function Ct(e,r){1&e&&t._UZ(0,"tr",22)}function Zt(e,r){1&e&&t._UZ(0,"tr",23)}let Tt=(()=>{class e{constructor(a,o,n,s,l){this.productService=a,this.ngxService=o,this.dialog=n,this.snackBarService=s,this.router=l,this.displayedColumns=["name","categoryName","description","price","edit"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.productService.getProducts().subscribe(a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}handleAddAction(){const a=new p.vA;a.data={action:"Add"},a.width="850px";const o=this.dialog.open(I,a);this.router.events.subscribe(()=>{o.close()}),o.componentInstance.onAddProduct.subscribe(s=>{this.tableData()})}handleEditAction(a){const o=new p.vA;o.data={action:"Edit",data:a},o.width="850px";const n=this.dialog.open(I,o);this.router.events.subscribe(()=>{n.close()}),n.componentInstance.onEditProduct.subscribe(l=>{this.tableData()})}handleDeleteAction(a){const o=new p.vA;o.data={message:"delete "+a.name+" product"};const n=this.dialog.open(J.S,o);n.componentInstance.onEmitStatusChange.subscribe(l=>{this.ngxService.start(),this.deleteProduct(a.id),n.close()})}deleteProduct(a){this.productService.delete(a).subscribe(o=>{this.ngxService.stop(),this.tableData(),this.responseMessage=o?.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},o=>{this.ngxService.stop(),this.responseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}onChange(a,o){var n={status:a.toString(),id:o};this.productService.updateStatus(n).subscribe(s=>{this.ngxService.stop(),this.responseMessage=s?.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},s=>{this.ngxService.stop(),this.responseMessage=s.error?.message?s.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(N),t.Y36(O.LA),t.Y36(p.uw),t.Y36(u.o),t.Y36(A.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-product"]],decls:33,vars:4,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activate or Desactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Product"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return n.handleAddAction()}),t._uU(5,"Add Product"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"mat-form-field",1)(9,"mat-label"),t._uU(10,"Filter"),t.qZA(),t.TgZ(11,"input",2,3),t.NdJ("keyup",function(l){return n.applyFilter(l)}),t.qZA()()(),t._UZ(13,"hr"),t.TgZ(14,"div",4)(15,"table",5),t.ynx(16,6),t.YNc(17,ct,2,0,"th",7)(18,lt,2,1,"td",8),t.BQk(),t.ynx(19,9),t.YNc(20,mt,2,0,"th",7)(21,dt,2,1,"td",8),t.BQk(),t.ynx(22,10),t.YNc(23,pt,2,0,"th",7)(24,ut,2,1,"td",8),t.BQk(),t.ynx(25,11),t.YNc(26,gt,2,0,"th",7)(27,ht,2,1,"td",8),t.BQk(),t.ynx(28,12),t.YNc(29,_t,2,0,"th",7)(30,ft,8,1,"td",13),t.BQk(),t.YNc(31,Ct,1,0,"tr",14)(32,Zt,1,0,"tr",15),t.qZA()()),2&o&&(t.xp6(15),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[h.lW,h.RK,S.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,_.KE,_.hX,U.Hw,Z.Nt,R.Rr,k.gM],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return e})();var E=d(217);let H=(()=>{class e{constructor(a){this.httpClient=a,this.apiUrl=g.N.apiUrl}generateReport(a){return this.httpClient.post(`${this.apiUrl}/bill/generateReport/`,a,{headers:(new f.WM).set("Content-Type","application/json")})}getPDF(a){return this.httpClient.post(`${this.apiUrl}/bill/getPdf/`,{uuid:a},{responseType:"blob"})}getBills(){return this.httpClient.get(`${this.apiUrl}/bill/getBills/`)}delete(a){return this.httpClient.delete(`${this.apiUrl}/bill/delete/${a}`,{headers:(new f.WM).set("Content-Type","application/json")})}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(f.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function xt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function vt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,yt,2,0,"span",6)(2,xt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.name.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.name.errors.pattern)}}function At(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function bt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Mt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,At,2,0,"span",6)(2,bt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.email.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.email.errors.pattern)}}function wt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function qt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Ot(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,wt,2,0,"span",6)(2,qt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.contactNumber.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.contactNumber.errors.pattern)}}function St(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function Ut(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function kt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,St,2,0,"span",6)(2,Ut,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.paymentMethod.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.paymentMethod.errors.pattern)}}function Dt(e,r){if(1&e&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.Q6J("value",a),t.xp6(),t.Oqu(a.name)}}function Bt(e,r){if(1&e&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.Q6J("value",a),t.xp6(),t.Oqu(a.name)}}function Ft(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function Nt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Pt(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Ft,2,0,"span",6)(2,Nt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.price.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.price.errors.pattern)}}function Yt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function Qt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function It(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Yt,2,0,"span",6)(2,Qt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.quantity.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.quantity.errors.pattern)}}function Jt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is mandatory."),t.qZA())}function Rt(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"This field is invalid."),t.qZA())}function Et(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Jt,2,0,"span",6)(2,Rt,2,0,"span",6),t.qZA()),2&e){const a=t.oxw();t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.total.errors.required),t.xp6(),t.Q6J("ngIf",a.manageOrderForm.controls.total.errors.pattern)}}function Ht(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Name"),t.qZA())}function Vt(e,r){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function $t(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Category"),t.qZA())}function jt(e,r){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.category)}}function Lt(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Price"),t.qZA())}function Gt(e,r){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.price)}}function Kt(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Quantity"),t.qZA())}function Xt(e,r){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.quantity)}}function zt(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Total"),t.qZA())}function Wt(e,r){if(1&e&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.total)}}function te(e,r){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Delete"),t.qZA())}function ee(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",38)(1,"button",39),t.NdJ("click",function(){const n=t.CHM(a),s=n.index,l=n.$implicit,v=t.oxw();return t.KtG(v.handleDeleteAction(s,l))}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function ae(e,r){1&e&&t._UZ(0,"tr",40)}function ne(e,r){1&e&&t._UZ(0,"tr",41)}let oe=(()=>{class e{constructor(a,o,n,s,l,v){this.formBuilder=a,this.categoryService=o,this.productService=n,this.billService=s,this.ngxService=l,this.snackBarService=v,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=c.cw,this.categories=[],this.products=[],this.totalAmount=0}ngOnInit(){this.ngxService.start(),this.getCategories(),this.manageOrderForm=this.formBuilder.group({name:[null,[c.kI.required,c.kI.pattern(m.t.nameRegex)]],email:[null,[c.kI.required,c.kI.pattern(m.t.emailRegex)]],contactNumber:[null,[c.kI.required,c.kI.pattern(m.t.contactNumberRegex)]],paymentMethod:[null,c.kI.required],product:[null,c.kI.required],category:[null,c.kI.required],quantity:[null,c.kI.required],price:[null,c.kI.required],total:[0,c.kI.required]})}getCategories(){this.categoryService.getCategories().subscribe(a=>{this.ngxService.stop(),this.categories=a},a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}getProductsByCategory(a){this.productService.getProductsByCategory(a.id).subscribe(o=>{this.products=o,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue(0)},o=>{this.ngxService.stop(),this.responseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}getProductDetails(a){this.productService.getById(a.id).subscribe(o=>{this.price=o.price,this.manageOrderForm.controls.price.setValue(o.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(1*this.price)},o=>{this.ngxService.stop(),this.responseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}setQuantity(a){var o=this.manageOrderForm.controls.quantity.value;o>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):""!=o&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validateProductAdd(){const a=this.manageOrderForm.get("total").value,o=this.manageOrderForm.get("quantity").value;return 0===a||null===a||o<=0}validateSubmit(){const a=this.manageOrderForm.controls,o=n=>null===a[n].value||!a[n].valid;return 0===this.totalAmount||o("name")||o("email")||o("contactNumber")||o("paymentMethod")}add(){var a=this.manageOrderForm.value;void 0===this.dataSource.find(n=>n.id==a.product.id)?(this.totalAmount=this.totalAmount+a.total,this.dataSource.push({id:a.product.id,name:a.product.name,category:a.category.name,quantity:a.quantity,price:a.price,total:a.total}),this.dataSource=[...this.dataSource],this.snackBarService.openSnackBar(m.t.productAdded,"success")):this.snackBarService.openSnackBar(m.t.productExistError,m.t.error)}handleDeleteAction(a,o){this.totalAmount=this.totalAmount-o.total,this.dataSource.splice(a,1),this.dataSource=[...this.dataSource]}submitAction(){this.ngxService.start();var a=this.manageOrderForm.value,o={name:a.name,email:a.email,contactNumber:a.contactNumber,paymentMethod:a.paymentMethod,totalAmount:this.totalAmount,productDetails:JSON.stringify(this.dataSource)};this.billService.generateReport(o).subscribe(n=>{this.downloadFile(n?.uuid),this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0},n=>{this.ngxService.stop(),this.responseMessage=n.error?.message?n.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}downloadFile(a){this.billService.getPDF({uuid:a}).subscribe(n=>{this.saveFile(n,`${a}.pdf`),this.ngxService.stop()},n=>{console.error("Error downloading file:",n),this.ngxService.stop()})}saveFile(a,o){(0,E.saveAs)(a,o)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(c.qu),t.Y36(C),t.Y36(N),t.Y36(H),t.Y36(O.LA),t.Y36(u.o))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-order"]],decls:102,vars:18,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","flFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","contactNumber","required",""],["matInput","","formControlName","paymentMethod","required",""],["value","Cash"],["value","Credit Card"],["value","Debit Card"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",1,"float-right"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","required","","readonly",""],["matInput","","formControlName","quantity","required","",3,"keyup"],["input",""],["matInput","","formControlName","total","required","","readonly",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage Order"),t.qZA()(),t.TgZ(4,"button",0),t.NdJ("click",function(){return n.submitAction()}),t._uU(5,"Submit & Get Bill"),t.qZA()(),t._UZ(6,"hr"),t.TgZ(7,"mat-card")(8,"b")(9,"span"),t._uU(10,"Customer Details:"),t.qZA()(),t.TgZ(11,"form",1)(12,"div",2)(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",5),t.YNc(18,vt,3,2,"mat-error",6),t.qZA(),t.TgZ(19,"mat-form-field",4)(20,"mat-label"),t._uU(21,"Email"),t.qZA(),t._UZ(22,"input",7),t.YNc(23,Mt,3,2,"mat-error",6),t.qZA(),t.TgZ(24,"mat-form-field",4)(25,"mat-label"),t._uU(26,"Contact Number"),t.qZA(),t._UZ(27,"input",8),t.YNc(28,Ot,3,2,"mat-error",6),t.qZA(),t.TgZ(29,"mat-form-field",4)(30,"mat-label"),t._uU(31,"Payment Method"),t.qZA(),t.TgZ(32,"mat-select",9)(33,"mat-option",10),t._uU(34,"Cash"),t.qZA(),t.TgZ(35,"mat-option",11),t._uU(36,"Credit Card"),t.qZA(),t.TgZ(37,"mat-option",12),t._uU(38,"Debit Card"),t.qZA()(),t.YNc(39,kt,3,2,"mat-error",6),t.qZA()()()(),t.TgZ(40,"div")(41,"button",13),t.NdJ("click",function(){return n.add()}),t._uU(42,"Add"),t.qZA(),t.TgZ(43,"button",14),t._uU(44),t.qZA()()(),t._UZ(45,"hr"),t.TgZ(46,"mat-card")(47,"b")(48,"span"),t._uU(49,"Select Product:"),t.qZA()(),t.TgZ(50,"form",1)(51,"div",2)(52,"div",3)(53,"mat-form-field",4)(54,"mat-label"),t._uU(55,"Category"),t.qZA(),t.TgZ(56,"mat-select",15),t.NdJ("selectionChange",function(l){return n.getProductsByCategory(l.value)}),t.YNc(57,Dt,2,2,"mat-option",16),t.qZA()(),t.TgZ(58,"mat-form-field",4)(59,"mat-label"),t._uU(60,"Product"),t.qZA(),t.TgZ(61,"mat-select",17),t.NdJ("selectionChange",function(l){return n.getProductDetails(l.value)}),t.YNc(62,Bt,2,2,"mat-option",16),t.qZA()(),t.TgZ(63,"mat-form-field",4)(64,"mat-label"),t._uU(65,"Price"),t.qZA(),t._UZ(66,"input",18),t.YNc(67,Pt,3,2,"mat-error",6),t.qZA(),t.TgZ(68,"mat-form-field",4)(69,"mat-label"),t._uU(70,"Quantity"),t.qZA(),t.TgZ(71,"input",19,20),t.NdJ("keyup",function(l){return n.setQuantity(l)}),t.qZA(),t.YNc(73,It,3,2,"mat-error",6),t.qZA(),t.TgZ(74,"mat-form-field",4)(75,"mat-label"),t._uU(76,"Total"),t.qZA(),t._UZ(77,"input",21),t.YNc(78,Et,3,2,"mat-error",6),t.qZA()()()()(),t._UZ(79,"hr"),t.TgZ(80,"div",22)(81,"table",23),t.ynx(82,24),t.YNc(83,Ht,2,0,"th",25)(84,Vt,2,1,"td",26),t.BQk(),t.ynx(85,27),t.YNc(86,$t,2,0,"th",25)(87,jt,2,1,"td",26),t.BQk(),t.ynx(88,28),t.YNc(89,Lt,2,0,"th",25)(90,Gt,2,1,"td",26),t.BQk(),t.ynx(91,29),t.YNc(92,Kt,2,0,"th",25)(93,Xt,2,1,"td",26),t.BQk(),t.ynx(94,30),t.YNc(95,zt,2,0,"th",25)(96,Wt,2,1,"td",26),t.BQk(),t.ynx(97,31),t.YNc(98,te,2,0,"th",25)(99,ee,4,0,"td",32),t.BQk(),t.YNc(100,ae,1,0,"tr",33)(101,ne,1,0,"tr",34),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("disabled",n.validateSubmit()),t.xp6(7),t.Q6J("formGroup",n.manageOrderForm),t.xp6(7),t.Q6J("ngIf",n.manageOrderForm.controls.name.touched&&n.manageOrderForm.controls.name.invalid),t.xp6(5),t.Q6J("ngIf",n.manageOrderForm.controls.email.touched&&n.manageOrderForm.controls.email.invalid),t.xp6(5),t.Q6J("ngIf",n.manageOrderForm.controls.contactNumber.touched&&n.manageOrderForm.controls.contactNumber.invalid),t.xp6(11),t.Q6J("ngIf",n.manageOrderForm.controls.paymentMethod.touched&&n.manageOrderForm.controls.paymentMethod.invalid),t.xp6(2),t.Q6J("disabled",n.validateProductAdd()),t.xp6(3),t.hij("Total Amount: ",n.totalAmount,""),t.xp6(6),t.Q6J("formGroup",n.manageOrderForm),t.xp6(7),t.Q6J("ngForOf",n.categories),t.xp6(5),t.Q6J("ngForOf",n.products),t.xp6(5),t.Q6J("ngIf",n.manageOrderForm.controls.price.touched&&n.manageOrderForm.controls.price.invalid),t.xp6(6),t.Q6J("ngIf",n.manageOrderForm.controls.quantity.touched&&n.manageOrderForm.controls.quantity.invalid),t.xp6(5),t.Q6J("ngIf",n.manageOrderForm.controls.total.touched&&n.manageOrderForm.controls.total.invalid),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[x.sg,x.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,Y.ey,h.lW,h.RK,S.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,_.KE,_.hX,_.TO,U.Hw,Z.Nt,Q.gD,k.gM,y.xw,y.yH],styles:["mat-form-field[_ngcontent-%COMP%]{padding:8px;width:100%}.float-right[_ngcontent-%COMP%]{float:right;margin-top:10px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:15px}mat-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}mat-select[_ngcontent-%COMP%]{width:100%}mat-option[_ngcontent-%COMP%]{padding:10px}mat-error[_ngcontent-%COMP%]{color:#1976d2;font-size:12px}@media screen and (max-width: 600px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return e})();function re(e,r){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function ie(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function se(e,r){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Category"),t.qZA())}function ce(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.category)}}function le(e,r){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Price"),t.qZA())}function me(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.price)}}function de(e,r){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Quantity"),t.qZA())}function pe(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.quantity)}}function ue(e,r){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Total"),t.qZA())}function ge(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.total)}}function he(e,r){1&e&&t._UZ(0,"tr",20)}function _e(e,r){1&e&&t._UZ(0,"tr",21)}let fe=(()=>{class e{constructor(a,o){this.dialogData=a,this.dialogRef=o,this.displayedColumns=["name","category","price","quantity","total"]}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(p.WI),t.Y36(p.so))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-bill-products"]],decls:48,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],["id","customers"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"span",2),t._uU(3,"View Bill"),t.qZA(),t._UZ(4,"span",3),t.TgZ(5,"button",4)(6,"mat-icon"),t._uU(7,"cancel"),t.qZA()()()(),t.TgZ(8,"mat-dialog-content",5)(9,"table",6)(10,"tr")(11,"td")(12,"b"),t._uU(13,"Name:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"b"),t._uU(17,"Email:"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"tr")(20,"td")(21,"b"),t._uU(22,"Contact Number:"),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"td")(25,"b"),t._uU(26,"Payment Method:"),t.qZA(),t._uU(27),t.qZA()()(),t.TgZ(28,"div",7),t._UZ(29,"br"),t.TgZ(30,"table",8),t.ynx(31,9),t.YNc(32,re,2,0,"th",10)(33,ie,2,1,"td",11),t.BQk(),t.ynx(34,12),t.YNc(35,se,2,0,"th",10)(36,ce,2,1,"td",11),t.BQk(),t.ynx(37,13),t.YNc(38,le,2,0,"th",10)(39,me,2,1,"td",11),t.BQk(),t.ynx(40,14),t.YNc(41,de,2,0,"th",10)(42,pe,2,1,"td",11),t.BQk(),t.ynx(43,15),t.YNc(44,ue,2,0,"th",10)(45,ge,2,1,"td",11),t.BQk(),t.YNc(46,he,1,0,"tr",16)(47,_e,1,0,"tr",17),t.qZA()()()),2&o&&(t.xp6(14),t.hij(" ",n.data.name,""),t.xp6(4),t.hij(" ",n.data.email,""),t.xp6(5),t.hij(" ",n.data.contactNumber,""),t.xp6(4),t.hij(" ",n.data.paymentMethod,""),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[h.RK,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,p.ZT,p.xY,U.Hw,T.Ye,T.rD,y.xw],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin-bottom:10PX}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}#customers[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}"]})}return e})();function Ce(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function Ze(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function Te(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Email"),t.qZA())}function ye(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.email)}}function xe(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Contact Number"),t.qZA())}function ve(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.contactNumber)}}function Ae(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Payment Method"),t.qZA())}function be(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.paymentMethod)}}function Me(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Total"),t.qZA())}function we(e,r){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.total)}}function qe(e,r){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function Oe(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.handleViewAction(s))}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",20),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.downloadReportAction(s))}),t.TgZ(5,"mat-icon"),t._uU(6,"summarize"),t.qZA()(),t.TgZ(7,"button",21),t.NdJ("click",function(){const s=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.handleDeleteAction(s))}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}}function Se(e,r){1&e&&t._UZ(0,"tr",22)}function Ue(e,r){1&e&&t._UZ(0,"tr",23)}let ke=(()=>{class e{constructor(a,o,n,s,l){this.billService=a,this.ngxService=o,this.dialog=n,this.snackBarService=s,this.router=l,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","view"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.billService.getBills().subscribe(a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}handleViewAction(a){const o=new p.vA;o.data={data:a},o.width="100%";const n=this.dialog.open(fe,o);this.router.events.subscribe(()=>{n.close()})}downloadReportAction(a){this.ngxService.start(),this.billService.getPDF({name:a.name,email:a.email,uuid:a.uuid,contactNumber:a.contactNumber,paymentMethod:a.paymentMethod,totalAmount:a.totalAmount,productDetails:a.productDetails}).subscribe(n=>{E(n,a.uuid+".pdf"),this.ngxService.stop()})}handleDeleteAction(a){const o=new p.vA;o.data={message:"delete "+a.name+" bill"};const n=this.dialog.open(J.S,o);n.componentInstance.onEmitStatusChange.subscribe(l=>{this.ngxService.start(),this.deleteProduct(a.id),n.close()})}deleteProduct(a){this.billService.delete(a).subscribe(o=>{this.ngxService.stop(),this.tableData(),this.responseMessage=o?.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},o=>{this.ngxService.stop(),this.responseMessage=o.error?.message?o.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(H),t.Y36(O.LA),t.Y36(p.uw),t.Y36(u.o),t.Y36(A.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-bill"]],decls:34,vars:4,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","View",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download Bill",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"View Bill"),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(l){return n.applyFilter(l)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,Ce,2,0,"th",6)(16,Ze,2,1,"td",7),t.BQk(),t.ynx(17,8),t.YNc(18,Te,2,0,"th",6)(19,ye,2,1,"td",7),t.BQk(),t.ynx(20,9),t.YNc(21,xe,2,0,"th",6)(22,ve,2,1,"td",7),t.BQk(),t.ynx(23,10),t.YNc(24,Ae,2,0,"th",6)(25,be,2,1,"td",7),t.BQk(),t.ynx(26,11),t.YNc(27,Me,2,0,"th",6)(28,we,2,1,"td",7),t.BQk(),t.ynx(29,12),t.YNc(30,qe,2,0,"th",6)(31,Oe,10,0,"td",13),t.BQk(),t.YNc(32,Se,1,0,"tr",14)(33,Ue,1,0,"tr",15),t.qZA()()),2&o&&(t.xp6(13),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[h.RK,S.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,_.KE,_.hX,U.Hw,Z.Nt,k.gM],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]})}return e})();var De=d(3076);function Be(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Name"),t.qZA())}function Fe(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.name)}}function Ne(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Email"),t.qZA())}function Pe(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.email)}}function Ye(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Contact Number"),t.qZA())}function Qe(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const a=r.$implicit;t.xp6(),t.Oqu(a.contactNumber)}}function Ie(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Action"),t.qZA())}function Je(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"td",16)(1,"mat-slide-toggle",17),t.NdJ("change",function(n){const l=t.CHM(a).$implicit,v=t.oxw();return t.KtG(v.handleChangeAction(n.checked,l.id))}),t.qZA()()}if(2&e){const a=r.$implicit;t.xp6(),t.Q6J("checked",a.status)}}function Re(e,r){1&e&&t._UZ(0,"tr",18)}function Ee(e,r){1&e&&t._UZ(0,"tr",19)}const Ve=[{path:"category",component:X,canActivate:[D.G],data:{expectedRole:["admin"]}},{path:"product",component:Tt,canActivate:[D.G],data:{expectedRole:["admin"]}},{path:"order",component:oe,canActivate:[D.G],data:{expectedRole:["admin","user"]}},{path:"bill",component:ke,canActivate:[D.G],data:{expectedRole:["admin","user"]}},{path:"user",component:(()=>{class e{constructor(a,o,n){this.userService=a,this.ngxService=o,this.snackBarService=n,this.displayedColumns=["name","email","contactNumber","status"]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe(a=>{this.ngxService.stop(),this.dataSource=new i.by(a)},a=>{this.ngxService.stop(),this.responseMessage=a.error?.message?a.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}handleChangeAction(a,o){this.ngxService.start();var n={status:a.toString(),id:o};this.userService.update(n).subscribe(s=>{this.ngxService.stop(),this.responseMessage=s?.message,this.snackBarService.openSnackBar(this.responseMessage,"")},s=>{this.ngxService.stop(),this.responseMessage=s.error?.message?s.error?.message:m.t.genericError,this.snackBarService.openSnackBar(this.responseMessage,m.t.error)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(De.K),t.Y36(O.LA),t.Y36(u.o))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-user"]],decls:28,vars:4,consts:[["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["matTooltip","Activate or Desactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"b")(2,"span"),t._uU(3,"Manage User"),t.qZA()()(),t._UZ(4,"hr"),t.TgZ(5,"mat-card")(6,"mat-form-field",0)(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",1,2),t.NdJ("keyup",function(l){return n.applyFilter(l)}),t.qZA()()(),t._UZ(11,"hr"),t.TgZ(12,"div",3)(13,"table",4),t.ynx(14,5),t.YNc(15,Be,2,0,"th",6)(16,Fe,2,1,"td",7),t.BQk(),t.ynx(17,8),t.YNc(18,Ne,2,0,"th",6)(19,Pe,2,1,"td",7),t.BQk(),t.ynx(20,9),t.YNc(21,Ye,2,0,"th",6)(22,Qe,2,1,"td",7),t.BQk(),t.ynx(23,10),t.YNc(24,Ie,2,0,"th",6)(25,Je,2,1,"td",11),t.BQk(),t.YNc(26,Re,1,0,"tr",12)(27,Ee,1,0,"tr",13),t.qZA()()),2&o&&(t.xp6(13),t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[S.a8,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,_.KE,_.hX,Z.Nt,R.Rr,k.gM],styles:["mat-form-field[_ngcontent-%COMP%]{padding:8px;width:100%}.float-right[_ngcontent-%COMP%]{float:right;margin-top:10px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:15px}mat-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}mat-select[_ngcontent-%COMP%]{width:100%}mat-option[_ngcontent-%COMP%]{padding:10px}mat-error[_ngcontent-%COMP%]{color:#1976d2;font-size:12px}@media screen and (max-width: 600px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return e})(),canActivate:[D.G],data:{expectedRole:["admin"]}}];var $e=d(6624);let je=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[x.ez,A.Bz.forChild(Ve),$e.q,f.JF,c.u5,c.UX,w.o9,b.HT]})}return e})()},217:function(F,B){var d,f;void 0!==(f="function"==typeof(d=function(){"use strict";function b(t,g,C){var u=new XMLHttpRequest;u.open("GET",t),u.responseType="blob",u.onload=function(){m(u.response,g,C)},u.onerror=function(){console.error("could not download file")},u.send()}function c(t){var g=new XMLHttpRequest;g.open("HEAD",t,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function w(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(g)}}var p="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=p.saveAs||("object"!=typeof window||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,g,C){var u=p.URL||p.webkitURL,h=document.createElement("a");h.download=g=g||t.name||"download",h.rel="noopener","string"==typeof t?(h.href=t,h.origin===location.origin?w(h):c(h.href)?b(t,g,C):w(h,h.target="_blank")):(h.href=u.createObjectURL(t),setTimeout(function(){u.revokeObjectURL(h.href)},4e4),setTimeout(function(){w(h)},0))}:"msSaveOrOpenBlob"in navigator?function(t,g,C){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function x(t,g){return typeof g>"u"?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,C),g);else if(c(t))b(t,g,C);else{var u=document.createElement("a");u.href=t,u.target="_blank",setTimeout(function(){w(u)})}}:function(t,g,C,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof t)return b(t,g,C);var h="application/octet-stream"===t.type,_=/constructor/i.test(p.HTMLElement)||p.safari,Z=/CriOS\/[\d]+/.test(navigator.userAgent);if((Z||h&&_||i)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var M=T.result;M=Z?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=M:location=M,u=null},T.readAsDataURL(t)}else{var y=p.URL||p.webkitURL,q=y.createObjectURL(t);u?u.location=q:location.href=q,u=null,setTimeout(function(){y.revokeObjectURL(q)},4e4)}});p.saveAs=m.saveAs=m,F.exports=m})?d.apply(B,[]):d)&&(F.exports=f)}}]);